version: '3.8'

services:
  playwright-service:
    build: .
    image: playwright:latest
    container_name: playwright-beyondup
    restart: unless-stopped
    working_dir: /app
    environment:
      - BEYONDUP_USER=${BEYONDUP_USER}
      - BEYONDUP_PASS=${BEYONDUP_PASS}
      - BEYONDUP_URL=${BEYONDUP_URL}
      - HEADLESS=true
      - TIMEOUT=60000
      - MAX_RETRIES=3
      - SCREENSHOTS_DIR=/app/screenshots
      - PYTHONUNBUFFERED=1
    volumes:
      - ./scripts:/app:rw
      - ./reports:/app/reports:rw
      - ./screenshots:/app/screenshots:rw
      - ./logs:/app/logs:rw
    command: tail -f /dev/null
